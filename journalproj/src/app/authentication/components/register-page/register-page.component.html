<div class="form-container">
    <form nz-form [formGroup]="registerForm" class="register-form" (submit)="submitForm()">
        <h1 class="form-header">Register</h1>
        <nz-form-item>
            <nz-form-control>
                <nz-input-group>
                <input
                    class="form-input"
                    type="email"
                    nz-input
                    formControlName="email"
                    placeholder="Email"
                />
                </nz-input-group>
                <div class="red-text" *ngIf="email?.touched && email?.errors?.['required']">
                    Email is required!
                </div>
                <div class="red-text" *ngIf="email?.touched && email?.errors?.['invalidEmail'] && !email?.errors?.['required']">
                    Invalid email format!
                </div>
            </nz-form-control>
        </nz-form-item>
        <nz-form-item>
            <nz-form-control>
                <nz-input-group>
                <input
                    class="form-input"
                    type="password"
                    nz-input
                    formControlName="password"
                    placeholder="Password"
                />
                </nz-input-group>
                <div class="red-text" *ngIf="password?.touched && password?.errors?.['required']">
                    Password is required!
                </div>
            </nz-form-control>
        </nz-form-item>
        <nz-form-item>
            <nz-form-control>
                <nz-input-group>
                <input
                    class="form-input"
                    type="password"
                    nz-input
                    formControlName="confirmPassword"
                    placeholder="Confirm Password"
                />
                </nz-input-group>
                <div class="red-text" *ngIf="confirmPassword?.touched && confirmPassword?.errors?.['required']">
                    Password confirmation is required!
                </div>
                <div class="red-text" *ngIf="confirmPassword?.touched && registerForm?.errors?.['passwordMismatch']">
                    Passwords do not match!
                </div>
            </nz-form-control>
        </nz-form-item>
        <nz-form-item>
            <nz-form-control>
                <nz-input-group>
                <input
                    class="form-input"
                    type="text"
                    nz-input
                    formControlName="name"
                    placeholder="Name"
                />
                </nz-input-group>
                <div class="red-text" *ngIf="name?.touched && name?.errors?.['required']">
                    Name is required!
                </div>
            </nz-form-control>
        </nz-form-item>
        <nz-form-item>
            <nz-form-control>
                <nz-input-group>
                <input
                    class="form-input"
                    type="text"
                    nz-input
                    formControlName="location"
                    placeholder="Location"
                />
                </nz-input-group>
                <div class="red-text" *ngIf="name?.touched && name?.errors?.['required']">
                    Location is required!
                </div>
            </nz-form-control>
        </nz-form-item>
        <nz-form-item>
            <nz-form-control>
                <nz-input-group>
                <input
                    class="form-input"
                    type="number"
                    nz-input
                    formControlName="age"
                    placeholder="Age"
                />
                </nz-input-group>
                <div class="red-text" *ngIf="name?.touched && name?.errors?.['required']">
                    Age is required!
                </div>
            </nz-form-control>
        </nz-form-item>

        <div *ngIf="!registerIsBeingRequested">
            <button nz-button class="register-form-button" [nzType]="'primary'" [disabled]="!registerForm.valid">Register</button>
            <button class="login-button" (click)="navigateToLogin()">Back to login</button>
        </div>
        <nz-spin *ngIf="registerIsBeingRequested" nzSimple [nzSize]="'large'"></nz-spin>
    </form>
</div>
